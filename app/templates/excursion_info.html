{% extends "base_generic.html" %}
{% load crispy_forms_tags %}
{% block content %}

<form action="/" method="post">
	{% csrf_token %}

	<table class="table">
		<tr>
			<th id="th_id_facility" colspan="4">{{ form.id_facility|as_crispy_field }}</th>
			<th>
				<label for="id_id_facility" class="col-form-label  requiredField">
				Select areas:<span class="asteriskField">*</span>
	    		</label>
	    		{{ form.id_area }}
	    		<div id="areas_ids" style="display: none;">
	    			{% for id in desired_excursion.areas_ids %}
	    				<div>{{ id }}</div>
	    			{% endfor %}
	    		</div>
	    	</th>
	    </tr>

		<tr>		
			<th colspan="2">{{ form.name_organizator|as_crispy_field }}</th>
	    	<th>{{ form.id_guide|as_crispy_field }}</th>
	    	<th>{{ form.occasion_excursion|as_crispy_field }}</th>
	    	<th>{{ form.date_excursion|as_crispy_field }}</th>
	    </tr>

	    <tr>
	    	<th>{{ form.time_period_excursion|as_crispy_field }}</th>	    	
	    	<th>{{ form.language_excursion|as_crispy_field }}</th>
	    	<th>{{ form.auditory_excursion|as_crispy_field }}</th>
			<th>{{ form.participants_excursion|as_crispy_field }}</th>
			<th>{{ form.age_excursion|as_crispy_field }}</th>
	    </tr>
	</table>

	<input class="btn btn-warning" type="submit" value="CHANGE EXCURSION"/>
</form>

{% endblock %}

<script type="text/javascript">
	$(document).ready(function() {{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{{}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}
		$('#id_id_area li label input').each(function () {
			var chb = $(this);
			console.log(chb);
			$('#areas_ids div').each(function () {

				if (chb.val() == $(this).text())
					chb.prop('checked', true);
				}
			})
		})
</script>